-- -------------------------------------------------------------
-- 
-- File Name: C:\QPSK\hdl_prj_zcu111\hdlsrc\hdlcoder_QPSKTxRx_RFSoC\QPSK_src_Pack_Samples_Fcn.vhd
-- Created: 2025-09-17 13:27:53
-- 
-- Generated by MATLAB 25.1, HDL Coder 25.1, and Simulink 25.1
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: QPSK_src_Pack_Samples_Fcn
-- Source Path: hdlcoder_QPSKTxRx_RFSoC/QPSK/To DMA/Capture Source Mux/Data to uint32/Pack Samples/Pack Samples Fcn
-- Hierarchy Level: 5
-- Model version: 9.4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;
USE work.QPSK_src_QPSK_pkg.ALL;

ENTITY QPSK_src_Pack_Samples_Fcn IS
  PORT( u_re                              :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En14
        u_im                              :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En14
        y                                 :   OUT   std_logic_vector(31 DOWNTO 0)  -- uint32
        );
END QPSK_src_Pack_Samples_Fcn;


ARCHITECTURE rtl OF QPSK_src_Pack_Samples_Fcn IS

  -- Signals
  SIGNAL u_re_signed                      : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL u_im_signed                      : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL y_tmp                            : unsigned(31 DOWNTO 0);  -- uint32

BEGIN
  u_re_signed <= signed(u_re);

  u_im_signed <= signed(u_im);

  Pack_Samples_Fcn_output : PROCESS (u_im_signed, u_re_signed)
    VARIABLE temp : vector_of_signed16(0 TO 1);
  BEGIN
    --MATLAB Function 'QPSK/To DMA/Capture Source Mux/Data to uint32/Pack Samples/Pack Samples Fcn'
    -- Interleave real/imag
    temp(1) := u_re_signed;
    temp(0) := u_im_signed;
    y_tmp <= unsigned(temp(0)) & unsigned(temp(1));
  END PROCESS Pack_Samples_Fcn_output;


  y <= std_logic_vector(y_tmp);

END rtl;

